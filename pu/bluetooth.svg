<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="836px" preserveAspectRatio="none" style="width:1205px;height:836px;" version="1.1" viewBox="0 0 1205 836" width="1205px" zoomAndPan="magnify"><defs><filter height="300%" id="f10inttoz484a6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="140" x="21" y="451.4795"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="31" y="472.6182">如果用户可以点击并</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="31" y="486.5869">按下App中的楼层按钮</text><line style="stroke:#000000;stroke-width:2.0;" x1="15" x2="15" y1="12.7451" y2="824.2607"/><rect fill="#FAEBD7" height="811.5156" style="stroke:#FAEBD7;stroke-width:1.0;" width="234" x="171" y="12.7451"/><ellipse cx="337" cy="48.6982" fill="#000000" filter="url(#f10inttoz484a6)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="279" y="78.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="289" y="99.8369">调用蓝牙模块</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="289" y="113.8057">用户可控楼层数组</text><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="80" x="183" y="382.5107"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="193" y="403.6494">展示给用户</text><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="92" x="177" y="531.417"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="187" y="552.5557">调用蓝牙模块</text><line style="stroke:#000000;stroke-width:2.0;" x1="171" x2="171" y1="12.7451" y2="824.2607"/><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="489" y="146.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="499" y="167.7744">转发后台</text><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="411" y="328.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="421" y="349.6807">转发App</text><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="411" y="600.3857"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="421" y="621.5244">转发后台</text><line style="stroke:#000000;stroke-width:2.0;" x1="405" x2="405" y1="12.7451" y2="824.2607"/><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="691" y="200.6045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="701" y="221.7432">返回可控楼层数组</text><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="803" y1="254.5732" y2="254.5732"/><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="92" x="585" y="274.5732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="595" y="295.7119">转发蓝牙模块</text><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="573" y="668.3545"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="583" y="689.4932">调用电梯控制SDK</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="583" y="703.4619">发送控制命令</text><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="745" y="463.4795"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="755" y="484.6182">调用电梯控制SDK</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="755" y="498.5869">发送可控楼层数组</text><polygon fill="#FEFECE" filter="url(#f10inttoz484a6)" points="772.5,415.0771,833.5,415.0771,845.5,427.0771,833.5,439.0771,772.5,439.0771,760.5,427.0771,772.5,415.0771" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="807" y="449.2876">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="772.5" y="430.8853">数组不为空?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="845.5" y="424.4829">No</text><ellipse cx="882.5" cy="427.0771" fill="#FFFFFF" filter="url(#f10inttoz484a6)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="882.5" cy="427.0771" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:2.0;" x1="567" x2="567" y1="12.7451" y2="824.2607"/><rect fill="#FAEBD7" height="811.5156" style="stroke:#FAEBD7;stroke-width:1.0;" width="282" x="903.5" y="12.7451"/><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="128" x="909.5" y="736.292"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="919.5" y="757.4307">控制电梯到选定楼层</text><ellipse cx="973.5" cy="801.2607" fill="#FFFFFF" filter="url(#f10inttoz484a6)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="973.5" cy="801.2607" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f10inttoz484a6)" height="47.9375" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="128" x="1047.5" y="543.417"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="1057.5" y="564.5557">点亮可控楼层灯按键</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="1057.5" y="578.5244">(用户可以直接点击)</text><ellipse cx="1111.5" cy="637.3545" fill="#FFFFFF" filter="url(#f10inttoz484a6)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="1111.5" cy="637.3545" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:2.0;" x1="903.5" x2="903.5" y1="12.7451" y2="824.2607"/><line style="stroke:#000000;stroke-width:2.0;" x1="1185.5" x2="1185.5" y1="12.7451" y2="824.2607"/><line style="stroke:#A80036;stroke-width:1.5;" x1="337" x2="337" y1="58.6982" y2="78.6982"/><polygon fill="#A80036" points="333,68.6982,337,78.6982,341,68.6982,337,72.6982" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="803" x2="803" y1="439.0771" y2="463.4795"/><polygon fill="#A80036" points="799,453.4795,803,463.4795,807,453.4795,803,457.4795" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="845.5" x2="871.5" y1="427.0771" y2="427.0771"/><polygon fill="#A80036" points="861.5,423.0771,871.5,427.0771,861.5,431.0771,865.5,427.0771" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="631" y1="256.0732" y2="274.5732"/><polygon fill="#A80036" points="627,264.5732,631,274.5732,635,264.5732,631,268.5732" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="803" x2="803" y1="256.0732" y2="415.0771"/><polygon fill="#A80036" points="799,405.0771,803,415.0771,807,405.0771,803,409.0771" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="749" x2="749" y1="234.5732" y2="254.5732"/><polygon fill="#A80036" points="745,244.5732,749,254.5732,753,244.5732,749,248.5732" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="973.5" x2="973.5" y1="770.2607" y2="790.2607"/><polygon fill="#A80036" points="969.5,780.2607,973.5,790.2607,977.5,780.2607,973.5,784.2607" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1111.5" x2="1111.5" y1="591.3545" y2="626.3545"/><polygon fill="#A80036" points="1107.5,616.3545,1111.5,626.3545,1115.5,616.3545,1111.5,620.3545" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="337" x2="337" y1="126.6357" y2="131.6357"/><line style="stroke:#A80036;stroke-width:1.5;" x1="337" x2="523" y1="131.6357" y2="131.6357"/><line style="stroke:#A80036;stroke-width:1.5;" x1="523" x2="523" y1="131.6357" y2="146.6357"/><polygon fill="#A80036" points="519,136.6357,523,146.6357,527,136.6357,523,140.6357" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="523" x2="523" y1="180.6045" y2="185.6045"/><line style="stroke:#A80036;stroke-width:1.5;" x1="523" x2="749" y1="185.6045" y2="185.6045"/><line style="stroke:#A80036;stroke-width:1.5;" x1="749" x2="749" y1="185.6045" y2="200.6045"/><polygon fill="#A80036" points="745,190.6045,749,200.6045,753,190.6045,749,194.6045" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="631" y1="308.542" y2="313.542"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="445" y1="313.542" y2="313.542"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445" x2="445" y1="313.542" y2="328.542"/><polygon fill="#A80036" points="441,318.542,445,328.542,449,318.542,445,322.542" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445" x2="445" y1="362.5107" y2="367.5107"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445" x2="223" y1="367.5107" y2="367.5107"/><line style="stroke:#A80036;stroke-width:1.5;" x1="223" x2="223" y1="367.5107" y2="382.5107"/><polygon fill="#A80036" points="219,372.5107,223,382.5107,227,372.5107,223,376.5107" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="223" x2="223" y1="416.4795" y2="433.9795"/><line style="stroke:#A80036;stroke-width:1.5;" x1="223" x2="91" y1="433.9795" y2="433.9795"/><line style="stroke:#A80036;stroke-width:1.5;" x1="91" x2="91" y1="433.9795" y2="451.4795"/><polygon fill="#A80036" points="87,441.4795,91,451.4795,95,441.4795,91,445.4795" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="91" x2="91" y1="499.417" y2="516.417"/><line style="stroke:#A80036;stroke-width:1.5;" x1="91" x2="223" y1="516.417" y2="516.417"/><line style="stroke:#A80036;stroke-width:1.5;" x1="223" x2="223" y1="516.417" y2="531.417"/><polygon fill="#A80036" points="219,521.417,223,531.417,227,521.417,223,525.417" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="223" x2="223" y1="565.3857" y2="582.8857"/><line style="stroke:#A80036;stroke-width:1.5;" x1="223" x2="445" y1="582.8857" y2="582.8857"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445" x2="445" y1="582.8857" y2="600.3857"/><polygon fill="#A80036" points="441,590.3857,445,600.3857,449,590.3857,445,594.3857" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445" x2="445" y1="634.3545" y2="651.8545"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445" x2="631" y1="651.8545" y2="651.8545"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="631" y1="651.8545" y2="668.3545"/><polygon fill="#A80036" points="627,658.3545,631,668.3545,635,658.3545,631,662.3545" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="631" y1="716.292" y2="721.292"/><line style="stroke:#A80036;stroke-width:1.5;" x1="631" x2="973.5" y1="721.292" y2="721.292"/><line style="stroke:#A80036;stroke-width:1.5;" x1="973.5" x2="973.5" y1="721.292" y2="736.292"/><polygon fill="#A80036" points="969.5,726.292,973.5,736.292,977.5,726.292,973.5,730.292" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="803" x2="803" y1="511.417" y2="525.917"/><line style="stroke:#A80036;stroke-width:1.5;" x1="803" x2="1111.5" y1="525.917" y2="525.917"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1111.5" x2="1111.5" y1="525.917" y2="543.417"/><polygon fill="#A80036" points="1107.5,533.417,1111.5,543.417,1115.5,533.417,1111.5,537.417" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="36" x="75" y="29.4531">用户</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="34" x="271" y="29.4531">App</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="72" x="450" y="29.4531">蓝牙模块</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="90" x="690.25" y="29.4531">电梯服务器</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="90" x="999.5" y="29.4531">电梯控制器</text><!--MD5=[266bbd48e576e2f679d886f9843e9d76]
@startuml bluetooth
|用户|
|#AntiqueWhite|App|
start
:调用蓝牙模块
用户可控楼层数组;
|蓝牙模块|
:转发后台;
|电梯服务器|
:返回可控楼层数组;
split
  |电梯服务器|
  :转发蓝牙模块;
  |蓝牙模块|
  :转发App;
  |App|
  :展示给用户;
  |用户|
  :如果用户可以点击并
  按下App中的楼层按钮;
  |App|
  :调用蓝牙模块;
  |蓝牙模块|
  :转发后台;
  |电梯服务器|
  :调用电梯控制SDK
  发送控制命令;
  |电梯控制器|
  :控制电梯到选定楼层;
  stop
split again
  |电梯服务器|
  if (数组不为空?) then (No)
    stop
  else (Yes)
    :调用电梯控制SDK
    发送可控楼层数组;
    |#AntiqueWhite|电梯控制器|
    :点亮可控楼层灯按键
    (用户可以直接点击);
    stop
  endif
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>